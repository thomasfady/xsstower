import{d as $,o as l,e as y,x as T,_ as g,l as B,m as S,r as i,b,f as t,w as e,c as _,i as w,j as c,n as u,F,y as N,t as V}from"./index-dce2ea2e.js";import{_ as E,a as M}from"./Share.vue_vue_type_style_index_0_scoped_df3c8ec6_lang-24dc1c18.js";import{A as L}from"./AddCircleOutline-5f6a83c1.js";import{T as R}from"./TrashOutline-c76d9c2e.js";import{C as A}from"./ClipboardCode16Regular-171661d9.js";const D={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},K=T('<circle cx="128" cy="256" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="112" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="400" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M169.83 279.53l172.34 96.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M342.17 135.53l-172.34 96.94"></path>',5),O=[K],U=$({name:"ShareSocialOutline",render:function(s,a){return l(),y("svg",D,O)}}),q={__name:"Share",props:{fire:{required:!0}},emits:["reloadFire"],setup(d,{emit:s}){const a=d,r=B(),n=S(!1);function C(){fetch("/api/fire/"+a.fire.CorrelationKey+"/share",{method:"POST"}).then(()=>{s("reloadFire")})}function m(f){navigator.clipboard.writeText(f),r.success("Public link copied to clipboard"),n.value=!1}function h(){let f=window.location;return f.protocol+"//"+f.host+"/app/sharing/"+a.fire.PublicId}function j(){fetch("/api/fire/"+a.fire.CorrelationKey+"/share",{method:"DELETE"}).then(()=>{s("reloadFire"),n.value=!1})}return(f,o)=>{const k=i("n-icon"),v=i("n-button"),x=i("n-space"),I=i("n-input"),P=i("n-modal");return l(),y(F,null,[b("div",null,[t(x,null,{default:e(()=>[a.fire.PublicId?u("",!0):(l(),_(v,{key:0,type:"success","icon-placement":"left",onClick:o[0]||(o[0]=p=>C())},{icon:e(()=>[t(k,null,{default:e(()=>[t(w(L))]),_:1})]),default:e(()=>[c(" Share ")]),_:1})),d.fire.PublicId?(l(),_(v,{key:1,type:"info","icon-placement":"left",onClick:o[1]||(o[1]=p=>n.value=!0)},{icon:e(()=>[t(k,null,{default:e(()=>[t(w(U))]),_:1})]),default:e(()=>[c(" Share ")]),_:1})):u("",!0)]),_:1})]),d.fire?(l(),_(P,{key:0,style:{"max-width":"calc(100vw - 32px)",width:"446px"},show:n.value,"onUpdate:show":o[4]||(o[4]=p=>n.value=p),preset:"card"},{header:e(()=>[c(" Copy Public Link ")]),footer:e(()=>[a.fire.PublicId?(l(),_(v,{key:0,type:"error","icon-placement":"left",onClick:o[3]||(o[3]=p=>j())},{icon:e(()=>[t(k,null,{default:e(()=>[t(w(R))]),_:1})]),default:e(()=>[c(" Remove Sharing ")]),_:1})):u("",!0)]),default:e(()=>[t(x,{vertical:""},{default:e(()=>[t(v,{secondary:"","icon-placement":"left",onClick:o[2]||(o[2]=p=>m(h()))},{icon:e(()=>[t(k,null,{default:e(()=>[t(w(A))]),_:1})]),default:e(()=>[c(" Copy to Clipboard ")]),_:1}),t(I,{value:h(),type:"text",readonly:""},null,8,["value"])]),_:1})]),_:1},8,["show"])):u("",!0)],64)}}},X=g(q,[["__scopeId","data-v-df3c8ec6"]]);const z={key:0,style:{"justify-content":"space-between"}},G={__name:"Fire",setup(d){function s(){fetch("/api/fire/"+a.params.id).then(n=>n.json()).then(n=>{r.value=n})}const a=N(),r=S(void 0);return s(),(n,C)=>{const m=i("n-tab-pane"),h=i("n-tabs");return l(),y(F,null,[r.value?(l(),y("header",z,[b("h2",null,[c("Xss Fire on "),b("small",null,V(r.value.Url),1)]),r.value?(l(),_(X,{key:0,onReloadFire:s,fire:r.value},null,8,["fire"])):u("",!0)])):u("",!0),t(h,null,{default:e(()=>[t(m,{name:"Information",tab:"Information"},{default:e(()=>[t(E,{fire:r.value},null,8,["fire"])]),_:1}),t(m,{name:"pages",tab:"Collected Pages"},{default:e(()=>[t(M,{hit:r.value},null,8,["hit"])]),_:1})]),_:1})],64)}}},Z=g(G,[["__scopeId","data-v-291ef02b"]]);export{Z as default};
