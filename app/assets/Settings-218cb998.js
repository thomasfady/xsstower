import{B as S,m as v,r as o,o as h,c as g,w as t,f as e,i as d,j as b,n as y}from"./index-dce2ea2e.js";import{S as C}from"./SaveOutline-66609bf3.js";const w=S("admin_config",()=>{const s=v(void 0);function i(){fetch("/api/admin/config").then(n=>n.json()).then(n=>{s.value=n})}function a(n){let l=s.value;return n.split(".").forEach(function(c){l=l[c]}),l}function _(n){fetch("/api/admin/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(l=>l.json()).then(l=>{s.value=l})}return{config:s,fetchConfig:i,GetConfig:a,SaveConfig:_}}),k={__name:"Registration",setup(s){const i=w(),a=v({"registration.enabled":i.GetConfig("registration.enabled")});return(_,n)=>{const l=o("n-switch"),c=o("n-form-item"),u=o("n-icon"),f=o("n-button"),m=o("n-form"),p=o("n-card");return h(),g(p,{title:"Registration"},{default:t(()=>[e(m,null,{default:t(()=>[e(c,{path:"enabled",label:"Enabled"},{default:t(()=>[e(l,{value:a.value["registration.enabled"],"onUpdate:value":n[0]||(n[0]=r=>a.value["registration.enabled"]=r)},null,8,["value"])]),_:1}),e(c,null,{default:t(()=>[e(f,{type:"success","icon-placement":"left",onClick:n[1]||(n[1]=r=>d(i).SaveConfig(a.value))},{icon:t(()=>[e(u,null,{default:t(()=>[e(d(C))]),_:1})]),default:t(()=>[b(" Save ")]),_:1})]),_:1})]),_:1})]),_:1})}}},x={__name:"Handlers",setup(s){const i=w(),a=v({"handlers.wildcard.domain":i.GetConfig("handlers.wildcard.domain"),"handlers.wildcard.path":i.GetConfig("handlers.wildcard.path")});return(_,n)=>{const l=o("n-switch"),c=o("n-form-item"),u=o("n-icon"),f=o("n-button"),m=o("n-form"),p=o("n-card");return h(),g(p,{title:"Handlers"},{default:t(()=>[e(m,null,{default:t(()=>[e(c,{path:"enabled",label:"Allow domain wildcard"},{default:t(()=>[e(l,{value:a.value["handlers.wildcard.domain"],"onUpdate:value":n[0]||(n[0]=r=>a.value["handlers.wildcard.domain"]=r)},null,8,["value"])]),_:1}),e(c,{path:"enabled",label:"Allow path wildcard"},{default:t(()=>[e(l,{value:a.value["handlers.wildcard.path"],"onUpdate:value":n[1]||(n[1]=r=>a.value["handlers.wildcard.path"]=r)},null,8,["value"])]),_:1}),e(c,null,{default:t(()=>[e(f,{type:"success","icon-placement":"left",onClick:n[2]||(n[2]=r=>d(i).SaveConfig(a.value))},{icon:t(()=>[e(u,null,{default:t(()=>[e(d(C))]),_:1})]),default:t(()=>[b(" Save ")]),_:1})]),_:1})]),_:1})]),_:1})}}},N={__name:"Settings",setup(s){const i=w();return i.fetchConfig(),(a,_)=>{const n=o("n-space");return d(i).config?(h(),g(n,{key:0,vertical:""},{default:t(()=>[e(k),e(x)]),_:1})):y("",!0)}}};export{N as default};
